doctype html
html(lang='en')
  head
    meta(charset='UTF-8')
    meta(http-equiv='X-UA-Compatible', content='IE=edge')
    meta(name='viewport', content='width=device-width, initial-scale=1.0')
    title Inventory
    link(rel='preconnect', href='https://fonts.googleapis.com')
    link(rel='preconnect', href='https://fonts.gstatic.com', crossorigin='')
    link(href='https://fonts.googleapis.com/css2?family=Libre+Franklin:ital,wght@0,100..900;1,100..900&family=Playwrite+AU+TAS:wght@100..400&family=Poly:ital@0;1&display=swap', rel='stylesheet')
    link(href='https://fonts.googleapis.com/css2?family=Libre+Franklin:ital,wght@0,100..900;1,100..900&family=Playwrite+AU+TAS:wght@100..400&family=Poly:ital@0;1&family=Rubik:ital,wght@0,300..900;1,300..900&display=swap', rel='stylesheet')
    link(rel="preconnect", href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css")
    script(src="https://cdn.tailwindcss.com") 
    |  
    |  
    link(rel='stylesheet', href='stylesheets/css.css')
    link(rel='stylesheet', href='stylesheets/output.css')
  body()
    .mc.fixed(class="bottom-6 right-0",id="menu")
      ul
       li.me HOME
       li.me ABOUT
       li.me CONTACT
       li.me LOGOUT
    .fixed.top-0.h-full.flex.justify-center.items-center.backdrop-blur.w-full.hidden#loading(class="style=background-color: rgba(255, 255, 255, 0.384);")
      .flex.flex-row.gap-2
        .w-4.h-4.rounded-full.bg-purple-950.animate-bounce
        .w-4.h-4.rounded-full.bg-purple-950.animate-bounce(class='[animation-delay:-.3s]')
        .w-4.h-4.rounded-full.bg-purple-950.animate-bounce(class='[animation-delay:-.5s]')
    .card.fixed.hidden#message
      svg.wave(viewBox='0 0 1440 320', xmlns='http://www.w3.org/2000/svg', id="icon")
        path(d='M0,256L11.4,240C22.9,224,46,192,69,192C91.4,192,114,224,137,234.7C160,245,183,235,206,213.3C228.6,192,251,160,274,149.3C297.1,139,320,149,343,181.3C365.7,213,389,267,411,282.7C434.3,299,457,277,480,250.7C502.9,224,526,192,549,181.3C571.4,171,594,181,617,208C640,235,663,277,686,256C708.6,235,731,149,754,122.7C777.1,96,800,128,823,165.3C845.7,203,869,245,891,224C914.3,203,937,117,960,112C982.9,107,1006,181,1029,197.3C1051.4,213,1074,171,1097,144C1120,117,1143,107,1166,133.3C1188.6,160,1211,224,1234,218.7C1257.1,213,1280,139,1303,133.3C1325.7,128,1349,192,1371,192C1394.3,192,1417,128,1429,96L1440,64L1440,320L1428.6,320C1417.1,320,1394,320,1371,320C1348.6,320,1326,320,1303,320C1280,320,1257,320,1234,320C1211.4,320,1189,320,1166,320C1142.9,320,1120,320,1097,320C1074.3,320,1051,320,1029,320C1005.7,320,983,320,960,320C937.1,320,914,320,891,320C868.6,320,846,320,823,320C800,320,777,320,754,320C731.4,320,709,320,686,320C662.9,320,640,320,617,320C594.3,320,571,320,549,320C525.7,320,503,320,480,320C457.1,320,434,320,411,320C388.6,320,366,320,343,320C320,320,297,320,274,320C251.4,320,229,320,206,320C182.9,320,160,320,137,320C114.3,320,91,320,69,320C45.7,320,23,320,11,320L0,320Z', fill-opacity='1')
      .icon-container(id="icc")
        svg.icon(id="icon2", xmlns='http://www.w3.org/2000/svg', viewBox='0 0 512 512', stroke-width='0', fill='currentColor', stroke='currentColor')
          path(d='M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-111 111-47-47c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l64 64c9.4 9.4 24.6 9.4 33.9 0L369 209z')
      .message-text-container
        p.message-text.text-violet-700(id="m1") Successfully
        p.sub-text.text-violet-700(id="m2") deleted an item
      svg.cross-icon(xmlns='http://www.w3.org/2000/svg', viewBox='0 0 15 15', stroke-width='0', fill='none', stroke='currentColor')
        path(fill='currentColor', d='M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z', clip-rule='evenodd', fill-rule='evenodd')
  
    div.p-2
      
        div.flex.justify-between.mx-auto.rounded-lg.pr-5.pl-4.pt-4.pb-7.sticky.top-1(style='color: white; background-color: blueviolet ;', class='')
          .text-2xl.font-bold.text-black Zona
          .hidden.text-2xl.justify-evenly.gap-4.font-semibold(class='sm:flex')
            div Home
            div About us
            div Contact us
            div Market place
          // <div class="sm:hidden"><svg xmlns="http://www.w3.org/2000/svg" height="48px" viewBox="0 -960 960 960" width="48px" fill="#000000"><path d="M120-240v-60h720v60H120Zm0-210v-60h720v60H120Zm0-210v-60h720v60H120Z"/></svg></div>
        .mt-6.mx-auto(class='w-10/12')
          input.w-full.rounded-3xl.p-2(style='background-color: rgba(240, 248, 255, 0.586); border:3px solid black', type='text', name='', id='che', placeholder='search for an item')
      #add.hidden.fixed.h-full.w-full.top-0.left-0.backdrop-blur.rubik-font.items-center.z-10(style='background-color: rgba(0, 0, 0, 0.774);')
        form.bbb.p-3.relative.flex.flex-col.gap-6.mx-auto.justify-center.items-center.bg-black.rounded-xl( method='post', class='w-11/12',action="https://inventory-hf31.onrender.com/users/usercom/"+`${obj._id}`)
          .absolute.top-0.right-1.text-white.font-bold.text-4xl(onclick='rem()') &times;
          div
            label.font-semibold.text-white(for='p') Product name
            br
            input#p.font-semibold.rounded-lg.h-10.bg-white.sty(type='text', name='product')
          div
            label.font-semibold.text-white(for='pr') Price
            br
            input#pr.font-semibold.rounded-lg.h-10.bg-white.sty(type='number', name='price')
          div
            label.font-semibold.text-white(for='comp') Company
            br
            input#comp.font-semibold.rounded-lg.h-10.bg-white.sty(type='text', name='company')
          button.bor.rounded-lg.p-2.font-semibold(type='submit',class="bg-violet-800") Proceed

      div.hidden.fixed.bottom-0.bg-black.p-5.rounded-t-3xl(class='top-2/4 w-11/12 left-1/2  flex ',id="passid")
        .absolute.top-0.right-1.text-white.font-bold.text-4xl(onclick='passidc()') &times;
        label.block.text-gray-400.text-sm.font-bold.mb-2(for='unique-input') pass id
        input#unique-input.text-sm.custom-input.w-full.px-4.py-2.border.border-gray-300.rounded-lg.shadow-sm.transition.duration-300.ease-in-out.transform.bg-gray-100(class='focus:-translate-y-1 focus:outline-blue-300 hover:shadow-lg hover:border-blue-300', placeholder='Enter id', type='text',onkeyup="ena()",autocomplete="off")  
        button(class="btnn",onclick="",id="unq",disabled=true) Proceed
      
      .fixed.flex.justify-evenly.w-full.left-0.rounded-lg.bottom-0.items-center.bg-white.p-2.z-10(class="dark:bg-slate-900")
        svg#a.hhh.inline-block.hlt(onclick="hlt('a')", xmlns='http://www.w3.org/2000/svg', height='24px', viewBox='0 -960 960 960', width='48px', fill='#e2e8fo')
          path(d='M240-200h120v-240h240v240h120v-360L480-740 240-560v360Zm-80 80v-480l320-240 320 240v480H520v-240h-80v240H160Zm320-350Z')
        svg#b.hhh.inline-block(onclick="hlt('b')", xmlns='http://www.w3.org/2000/svg', height='48px', viewBox='0 -960 960 960', width='24px', fill='##e2e8fo')
          path(d='M286.79-81Q257-81 236-102.21t-21-51Q215-183 236.21-204t51-21Q317-225 338-203.79t21 51Q359-123 337.79-102t-51 21Zm400 0Q657-81 636-102.21t-21-51Q615-183 636.21-204t51-21Q717-225 738-203.79t21 51Q759-123 737.79-102t-51 21ZM235-741l110 228h288l125-228H235Zm-30-60h589.07q22.97 0 34.95 21 11.98 21-.02 42L694-495q-11 19-28.56 30.5T627-453H324l-56 104h491v60H277q-42 0-60.5-28t.5-63l64-118-152-322H51v-60h117l37 79Zm140 288h288-288Z')
        svg#c.hhh.inline-block(onclick="hlt('c')", xmlns='http://www.w3.org/2000/svg', height='48px', viewBox='0 -960 960 960', width='24px', fill='##e2e8fo')
          path(d='M120-240v-60h720v60H120Zm0-210v-60h720v60H120Zm0-210v-60h720v60H120Z')
        svg#d.hhh.inline-block(onclick="hlt('d')", xmlns='http://www.w3.org/2000/svg', height='48px', viewBox='0 -960 960 960', width='24px', fill='##e2e8fo')
          path(d='M453-280h60v-166h167v-60H513v-174h-60v174H280v60h173v166Zm27.27 200q-82.74 0-155.5-31.5Q252-143 197.5-197.5t-86-127.34Q80-397.68 80-480.5t31.5-155.66Q143-709 197.5-763t127.34-85.5Q397.68-880 480.5-880t155.66 31.5Q709-817 763-763t85.5 127Q880-563 880-480.27q0 82.74-31.5 155.5Q817-252 763-197.68q-54 54.31-127 86Q563-80 480.27-80Zm.23-60Q622-140 721-239.5t99-241Q820-622 721.19-721T480-820q-141 0-240.5 98.81T140-480q0 141 99.5 240.5t241 99.5Zm-.5-340Z')
      div(class="mt-7 rubik-font")    
        if objs.length<1
         div(class="w-11/12 mx-auto bg-gray-300 rounded-lg flex flex-col justify-center items-center p-4")
          svg(xmlns='http://www.w3.org/2000/svg', height='48px', viewBox='0 -960 960 960', width='48px', fill='#8A2BE2',class='mx-auto')
            path(d='M440-280h80v-160h160v-80H520v-160h-80v160H280v80h160v160Zm40 200q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z')
          div(class="font-bold mt-2") There is no item in the inventory 
          button(class="p-2 bg-violet-500 rounded-xl mt-4 font-bold hover:translate-y-1",onclick='add()' ) Add item    
          
        else 
         div.mx-auto(class="w-full mt-1 rounded-t-2xl overflow-x-auto max-h-96 overflow-y-scroll")
          table.w-full
            thead
              tr
                th Product
                th Price
                th Company
                th Action
            each item in objs
             tbody
              tr
                td=item.product
                td=item.price
                td=item.company
                td
                 button.rounded-2xl.p-3.text-white.font-bold.bg-black(onclick=`passid("${item._id}")`) delete
      div(class="text-center font-medium rubik-font") Remember to logout after activities          
    script.
      function add(){
      const ele=document.getElementById("add");
      ele.style.display="flex";
      }
      
      function rem(){
      const ele=document.getElementById("add");
      ele.classList.add("fader")
      setTimeout(function(){ele.style.display="none";
      ele.classList.remove("fader")
      },1000)
      
      }
      function hlt(a){
      const ele=document.getElementsByClassName("hhh")
      for(let i=0;i<ele.length;i++){
      if(ele.item(i).classList.contains("hlt")){
      ele.item(i).classList.remove("hlt")
      }
      }
      if(a=="d"){add(); hideMenuOnly()}
      if(a=="a"){rem(); hideMenuOnly() }
      if(a=="c"){showMenu() }
      document.getElementById(a).classList.add("hlt");
      
      }
      async function del(u){
        try{
      const res=await fetch(`https://inventory-hf31.onrender.com/users/loggedd/${u}`,{method:"post"});
      console.log(res);
      if(res.ok){
      const r=await res.text()
      
      //console.log(r)
      sme("Success","deleted an item","green")}
      else{console.log("AN ERRORRRR OCCURED")}
      }
      catch(e){console.log(e)}
      }
      function passid(a){
        const ele=document.getElementById("passid");
        ele.classList.add("sl");
        ele.style.display="block";
        const f=document.getElementById("unq");
        f.onclick= function(){comparePassid(a)}
      }
      function passidc(){
        const ele=document.getElementById("passid");
        ele.classList.remove("sl");
        ele.style.display="none";
      }
      function sme(a,b,c){
        const ee=document.getElementById("m1")
        const ee2=document.getElementById("m2")
        const elem=document.getElementById("message");
        const ic=document.getElementById("icon")
        const ic2=document.getElementById("icon2")
        const ic3=document.getElementById("icc")
        ee.innerHTML=a;
        ee2.innerHTML=b;
        ee.style.color=c;
        ee2.style.color=c;
        ic.style.fill=c;
        
        ic3.style.backgroundColor=c;
        
        elem.style.display="flex";
        setTimeout(function(){elem.style.display="none"},2500)
      }
      async function comparePassid(a){
        const l=document.getElementById("loading")
        const ans=document.getElementById("unique-input").value;
      const aaa=!{JSON.stringify(pd)}
        if(aaa==ans){
          passidc()
          l.style.display="flex";
         await  del(a);
         l.style.display="none";
         
       const f=document.getElementById("unq");
       f.onclick= function(){};
        }
        else {
          passidc();
          sme("Failed","incorrect passid","red")
          console.log("Wrong password")
        }
      }
      function ena(){
        var btn=document.getElementById("unq")
      if(document.getElementById("unique-input").value.length<=4){
      btn.disabled=true;
      }else{
       btn.disabled=false;
      }
      }
      document.getElementById("menu").style.display="none";
      function showMenu(){
        const ele=document.getElementById("menu");
        if(ele.style.display=="none"){
          rem();
        ele.style.display="block";}
        else{
        
          ele.style.display="none";
        }
      }
      function hideMenuOnly(){
         const ele=document.getElementById("menu");
         ele.style.display="none";
      }